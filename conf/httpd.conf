## httpd.conf -- Bricolage Apache configuration file.
##
## VERSION: $LastChangedRevision$
## $LastChangedDate$

LoadModule perl_module        libexec/httpd/libperl.so
LoadModule config_log_module  libexec/httpd/mod_log_config.so
LoadModule mime_module        libexec/httpd/mod_mime.so
LoadModule alias_module       libexec/httpd/mod_alias.so

################################################################################
# These are the basic, general settings to get going.
#
# MAKE SURE that if you run on non-standard ports that 
# you edit below:
#	Listen 80	(one place)
#	Listen 443	(two places)
################################################################################
ServerType           standalone
ServerName           localhost
ServerRoot           /usr
ServerAdmin          root@localhost
ServerSignature      Email
PidFile              /Users/marshall/Sites/Bricolage/dev_cssify/logs/httpd.pid
DocumentRoot         /Users/marshall/Sites/Bricolage/dev_cssify/comp
Listen               8082
User                 nobody
Group                nobody
KeepAlive            Off
MaxKeepAliveRequests 100
KeepAliveTimeout     15
MinSpareServers      2
MaxSpareServers      6
StartServers         2
MaxClients           150
MaxRequestsPerChild  0
ErrorLog             /Users/marshall/Sites/Bricolage/dev_cssify/logs/error_log
LogLevel             info
LogFormat            "%h %l %u %t \"%r\" %>s %b \"%{Referer}i\" \"%{User-Agent}i\" \"%{Cookie}i\" \"%v:%p\"" combined
CustomLog            /Users/marshall/Sites/Bricolage/dev_cssify/logs/access_log combined
TypesConfig          /etc/httpd/mime.types
UseCanonicalName     On
HostNameLookups      Off
Timeout              30

################################################################################
# Use this section if SSL_ENABLE is on in bricolage.conf.
################################################################################
<ifModule mod_ssl.c>
    Listen 443
    # Enabled on a per virtual host basis
    SSLEngine off
    SSLPassPhraseDialog    builtin
    SSLSessionCache        dbm:/usr/local/apache/logs/ssl_scache
    SSLSessionCacheTimeout 300
    SSLMutex               file:/usr/local/apache/logs/ssl_mutex
    SSLLog                 /usr/local/apache/logs/ssl_engine_log
    SSLLogLevel            info
    SSLRandomSeed          startup builtin
    SSLRandomSeed          connect builtin
    SSLCipherSuite         ALL:!ADH:!EXP56:RC4+RSA:+HIGH:+MEDIUM:+LOW:+SSLv2:+EXP:+eNULL
</IfModule>
<IfModule apache_ssl.c>
    # Platform dependent, but shown for Linux
#   SSLRandomFile /dev/random/1024
#   SSLRandomFilePerConnection /dev/random 1024
    SSLRandomFile /dev/urandom 1024
    SSLRandomFilePerConnection /dev/urandom 1024
    Listen 443
    # Enabled on a per virtual host basis
    SSLDisable
    SSLCacheServerPath /usr/local/apache/bin/gcache
    SSLCacheServerPort logs/gcache_port
    SSLCacheServerRunDir /tmp
    SSLSessionCacheTimeout 3600
#    SSLRequired Ciphers RC4-MD5:RC4-SHA:IDEA-CBC-MD5:DES-CBC3-SHA
</IfModule>

################################################################################
# This is where Bricolage actually gets configured.
################################################################################
PerlPassEnv BRICOLAGE_ROOT
PerlModule Bric::App::ApacheConfig
