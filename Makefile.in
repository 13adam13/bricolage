
# Programatic dependancies
PERL = @PERL@
APACHE = @APACHE@
POSTGRESHOME = @PGHOME@
POD2HTML = @POD2HTML@
POD2TEXT = @POD2TEXT@
POD2MAN = @POD2MAN@



# Installation related variables
BINDIR  = @bindir@
DATADIR  = @datadir@
EXEC_PREFIX  = @exec_prefix@
INCLUDEDIR  = @includedir@
INFODIR  = @infodir@
LIBDIR  = @libdir@
LIBEXECDIR  = @libexecdir@
LOCALSTATEDIR  = @localstatedir@
MANDIR  = @mandir@
OLDINCLUDEDIR  = @oldincludedir@
PREFIX  = @prefix@
SBINDIR  = @sbindir@
SHAREDSTATEDIR  = @sharedstatedir@
SYSCONFDIR  = @sysconfdir@



# Bricolage configuration info
APACHE_USER = @APACHE_USER@
APACHE_GROUP = @APACHE_GROUP@

# A list of any missing modules
MISSING_MODULES = @MISSING_MOD@
MODULE_COMMAND = $(foreach mod,${MISSING_MODULES},${PERL} -MCPAN -e "install ${mod}" ;)



all: dep README INSTALL TODO License

install:

dep: cpan

cpan:
	${INSTALL_MISSING}
	echo Installed ${MISSING_MODULES} >>install.log

INSTALL:
	${POD2TEXT} lib/Bric/Admin.pod >$@

TODO:
	${POD2TEXT} lib/Bric/ToDo.pod >$@

README:
	${POD2TEXT} lib/Bric/Changes.pod >$@

License:
	${POD2TEXT} lib/Bric/License.pod >$@


clean:
	${RM} -f README INSTALL TODO License



.PHONY : clean dep clean cpan
