=head1 NAME

Bric::Changes - Bricolage Changes

=head1 VERSION

$Revision$

=head1 DATE

$Date$

=head1 DESCRIPTION

This document lists the Changes to Bricolage introduced with each release.

=head1 VERSION 1.3.3

=head2 New Features

=over 4

=item *

Revised Bric::Biz::Keyword implementation to improve performance. The new
implementation no longer relies on the Bric::Util::Grp system. Also
implemented API and database support for Media keywords. [Sam]

=item *

Added support for search Media by category and file name through the SOAP
inerface and standard API. [Sam]

=item *

Added new C<--save-cookie-file> and C<--use-cookie-file> options to
F<bric_soap> to allow authentication to span F<bric_soap> calls. This can
result in significant time savings across multiple invocations. [Matt]

=item *

Added README.MacOSX. [David]

=item *

Added new C<--chunks> option to the F<bric_soap> tool to avoid problems with
timeouts on large workloads. Currently only supports the workflow commands
(C<publish>, C<deploy>, C<checkin>, C<checkout>, C<move>), but it will be
expanded to other long-running commands in the future. [Sam]

=item *

Improved performance of search paging. ListManager now only builds the output
rows that will actually be shown on the screen. For large data sets this
results in a huge gain in search speed. [Adam and Sam]

=item *

Revised category implementation to use explicit C<uri> and C<parent_id> fields
rather than relying on the Bric::Util::Grp system. This improves performance
tremendously for larger numbers of categories. [Jeff Pinyan]

=item *

Added new C<--continue-on-errors> option to F<bric_soap> to prevent non-fatal
errors from ending the process. [Sam]

=item *

Beautified the list paging interface. [David]

=item *

Added new Media Type manager. [Scott]

=item *

Added list reverse feature. [Scott]

=item *

Added SFTP mover. [Scott]

=item *

Add support for Apache-SSL. This required a change to the context of the
F<bricolage.conf> C<ENABLE_SSL> directice to indicate the type of SSL support:
none, apache_ssl, or mod_ssl. [Michael Robinton]

=item *

Added support for manual httpd configuration. Split out dynamic configuration
from ApacheConfig.pm and move to a new module, ApacheStartup.pm, that sets no
Apache configuration directives. ApacheConfig.pm calls this module. [Michael
Robinton]

=item *

Added F<bricolage.conf> configuration directive to force the start up process
to always write out a F<C<$TEMP_DIR>/bricolage/bric_httpd.conf> as an
F<httpd.conf> include file. [Michael Robinton]

=item *

Moved SSL key and certificate configuration from global F<httpd.conf> settings
to per virtual host via F<bricolage.conf> configuration directives. [Michael
Robinton]

=item *

Added a C<bricolage.conf> directive to force the user to always use SSL.
[Michael Robinton]

=item *

Added C<get_data()> method to Bric::Util::Grp::Parts::Member::Contrib. This
method takes a simplar scalar argument and returns the relevant attribute.
This bit of syntactic sugar makes contributor objects behave a bit more like
C<$element> objects in templates, thus simplifying things for template
developers. [David]

=item *

Categories now default to sorting by URI, and the URI is the searchable field,
rather than name. [David]

=item *

Vastly improved the speed at which categories can be imported via SOAP.
[David]

=item *

Makefile now confirms location of Apache and PostgreSQL to allow for
systems with multiple versions of each available. [Sam]

=back

=head2 Bug Fixes

=over 4

=item *

Added constraint to the group table to keep a group from having itself as a
parent. Thanks to Joao Pedro Goncalves for the patch. [David]

=item *

Fixed bug in side navigation where an HTML table was opened but not closed.
[Charles Albrecht]

=item *

Fixed bug where installation system would chown all of the chosen TEMP_DIR to
SYS_USER. Thanks to Dave Rolsky for the report. [Sam]

=item *

Fixed a bug in the installation system that was creating empty comp/comp and
data/data directories BRICOLAGE_ROOT. Thanks to Michael for the spot. [Sam]

=item *

Fixed remote previews to redirect to a better URL. [Mark]

=item *

Fixed a bug where trying to create a story through the SOAP interface
containing a contributor with an empty middle name would fail.  [Sam]

=item *

Changed strttime instances of '%G' to '%Y' in URI preference, as this seems to
be more portable. [David]

=item *

Fixed bug that was preventing 'make upgrade' from running database upgrade
scripts. [Sam]

=item *

Fixed broken "Log" link on Media Search results screen. [Sam]

=item *

Fixed bug where deleted output channels were showing up in list of available
output channels in the element profile. [David]

=item *

Fixed conflict in list manager that prevented some lists from working
properly. Probably never showed up before, as we only noticed it with the new
Media Type manager. Thanks to Scott for the heads-up. [David]

=item *

The C<PREVIEW_MASON> configuration directive no longer is no longer defaulting
to on in one context and off in another. It is now off by default. Thanks to
Michael Slattery for the spot! [David]

=item *

Eliminated the password field type from the formBuilder interface used for
contributor types and elements. Its inclusion up to now may be considered a
bug. [David]

=item *

Fixed cover date editing to repopulate correctly on the Story profile screens.
[Matt]

=item *

Fixed bug where previewing a story assigned to multiple categories would
preview to a random category. Now the primary category is always chosen. [Sam]

=item *

Fixed display and editing of dates more than one year in the past. [Matt]

=item *

Fixed bug where setting CHAR_SET to UTF-8 in bricolage.conf would result in
blank output. [Sam]

=item *

Changed Category manager to display no categories by default, only display
them after a search. This is because some folks have a I<lot> of categories.
[David]

=item *

Fixed bug where when C<SYS_USER> and/or C<SYS_GROUP> wasn't in
F<bricolage.conf>, Bric::Config would use the username "nobody" instead of the
UID for the user "nobody". [David]

=item *

Adding a note to a story that has not yet been saved no longer causes an
error. [David]

=item *

Fixed "make dist" to work on Mac OS/X and FreeBSD. [Sam]

=back

=head1 VERSION 1.3.2

=head2 New Features

=over 4

=item *

Added --chunks option to bric_republish to publish stories in batches.
This is useful to avoid timing out on long runs. [Sam]

=item *

Added [Check In / Publish] button to Story Profile to checkin and
publish in one step. [Matt]

=item *

Added needs_publish() method and associated published_version database
field to Bric::Biz::Asset.  This method is now used by the publisher
to determine if something needs republishing.  Added new graphics to
display this information on the desks.  [Matt]

=item *

Moved repeated publish and preview functionality into
Bric::Util::Burner.  Updated Mason code and Bric::SOAP::Workflow
accordingly.  [Matt]

=item *

Added C<DBI_PROFILE> bricolage.conf option and C<bric_dbprof> script
to allow profiling of Bricolage database performance.  [Sam]

=item *

Added C<bric_apachectl debug> command to run Bricolage under the Perl
debugger using Apache::DB.  [Sam]

=item *

Added checks to make sure Story and Media URIs are unique within the
system.  [Matt]

=item *

Added search paging preference to break search results into multiple
pages.  [Adam]

=item *

Added support for running Bricolage under Devel::Profiler with the new
PROFILE configuration option.  [Sam]

=item *

Added support for Apache::SizeLimit to keep Apache process size under
control.  [Adam]

=item *

Revised Bric::App::Cache to improve performance.  The new system is a
two-level cache with Cache:Mmap and Cache::Cache.  This results in a
2x speedup on some cache-sensitive operations.  [Sam]

=back

=head2 Bug Fixes

=over 4

=item *

Clicking "Add More" when editing contributor contacts now retains any changes
made to the contributor profile. This matches the functionality of the user
profile. Thanks to Joao Pedro Goncalves for the spot. [David]

=item *

Fixed bug in Bric::SOAP::Element where deleting an element or field
could cause SQL errors due to overflowing the name field. [Sam]

=item *

Removed Bric::SOAP::Element->delete(force => 1) which could cause data
corruption in existing stories.  Also removed dependent options in
bric_dev_sync (--delete-existing) and bric_soap (--force). [Sam]

=item *

Fixed bug in Bric::SOAP::Element where updating an element could cause
Stories using that element to lose track of their field data. [Sam]

=item *

Fixed bug in Bric::Util::Burner::Template where <tmpl_include>s caused
syntax errors. [Sam]

=item *

The Bric::Biz::Category class method get_attr() now returns attributes for
category ID 0 as well as all other categories. [Joao Pedro Goncalves]

=item *

Fixed bug in DBI_DEBUG and DBI_CALL_TRACE options where non-prepared queries
(row_aref(), all_aref(), etc.) were not being logged. [Sam]

=item *

Fixed bug in Bric::Dist::Resource that was causing publish to run very
slowly by executing a bad database query. [Sam]

=item *

Related to the last item, fixed a bug in Bric::Util::Coll that would call
the href() method on a class and pass in undefined values as parameters.
This will happen if a collection is created for a new object that does not
yet have an ID. The fix thus prevents the "= NULL" SQL syntax, which always
matches nothing. The new syntax for constructing a collection has been
implemented across the API. [David]

=item *

Fixed bug where the root category wasn't able to be added to a category
group. Actually, this fixes a problem where any object with an id of 0
couldn't be added to a group. Thanks to Mark for the spot. [David]

=item *

Changed mover list to be sorted in alphabetical order in the Destination
profile. This has the benefit of forcing "FTP" to be listed before "File
System" -- Hurray for case-sensitive ordering! Thanks to Sam for the
complaint. [David]

=item *

The OS for a destination server now defaults to the OS of the server on
which Bricolage is installed instead of "Mac". Thanks to Sam for the spot.
[David]

=item *

Deleted destinations will now be dissociated from output channels when
they're deleted. This prevents stories from being published to deleted
destinations. Thanks to Mark for the heads-up. [David]

=item *

Fixed bug where attribute metadata wasn't getting deleted when it was
supposed to. [Joao Pedro Goncalves]

=item *

Fixed bug where some browsers submit an image button with a value stored in
the image button's name as well as in the name with ".x" and ".y" appended
to it. This caused callbacks to be triggered twice for a single field! I
noticed this with Mozilla on Mac OS X, and presume it would happen
elsewhere, too. [David]

=item *

Fixed bug in navigation bar HTML that caused the bar to disappear on
certain browsers. [Rachel Murray]

=item *

Fixed bug in Bric::SOAP where Bricolage exceptions resulted in an
uninformative "Application error" message. Now the full exception message is
displayed. [Sam]

=item *

Fixed installation to work under Debian Linux 3.0 (testing). Thanks to Mark
Jaroski for a helpful patch. [Sam]

=item *

Changed length of Bric::Dist::Job name attribute from 64 characters to 256.
This allows long asset names to be used. Also added code to Bric::Dist::Job
to ensure that the name property is truncated if it's longer than 256
characters. Thanks to Josh Cox for the spot. [David]

=item *

Fixed bug where dumber browsers would submit a new template without any
Element selected. Thanks to Michael Robinton for reporting the bug. [David]

=item *

All stories and media are now required to be associated with a category. For
stories, the primary category cannot be deleted. If you want to change the
primary category, add a new category, change it to the primary, and then
delete the old primary category. This fix prevents previews and publishes
from breaking on stories and media that had no categories. Thanks to Mark for
the heads-up. [David]

=item *

An overhaul of the burn system had regressed the Output Channel preview
functionality. I've put it back now. [Mark]

=item *

Fixed button javascript to work correctly in Mozilla. [Matt]

=item *

Fixed bug in HTML::Template burner that prevented <tmpl_include>s from
working in some cases.  [Sam]

=item *

Numerous spelling errors were fixed by Scott Lanning. Thanks!

=item *

In the Element manager, doing a search after selecting an Element Type from
which to display elements no longer causes an error. Thanks to Adam Robinson
for the spot. [David]

=item *

Made the parent category field in the Category Profile a required field.
[Mark]

=item *

Fix Bric::Util::FTP::FileHandle to work with a modified date-formatting
preference. [Matt]

=item *

Fixed section numbering in the Contributor Type profile. [Scott Lanning]

=back

=head1 VERSION 1.3.1

=head2 New Features

=over 4

=item *

Bricolage SOAP interface fully implemented.  The command-line clients
bric_soap, bric_dev_sync and bric_republish are all complete. [Sam]

=item *

Bricolage now comes with a configure script and a Makefile for easier
installation and configuration. [Mark Jaroski]

=item *

Removed MD5 Perl module requirement by requiring Apache::Session 1.54 or higher.
[David]

=item *

Added new FTP distribution move method. Now you can distribute files either via
a file system copy or via FTP. [David]

=item *

Added a preference to change the way URIs are formatted. [Adam]

=item *

Added a URI case preference to force URIs to lowercase, uppercase, or
allow mixed case URIs.  [Adam]

=item *

Categories are now all listed and sorted by URI in select lists. [Sam]

=item *

The cache is now cleared when the Apache server is started or
restarted.  This avoids potential problems with stale data in the
cache. [Sam]

=back

=head2 Bug Fixes

=over 4

=item *

Fixed numerous cases where user_ids were being used as booleans.
Since user_id 0 is the Administrator's user_id this can cause problems. [Sam]

=item *

Fixed problem where deleting an asset would fail with the "cannot
check-in non checked-out version" error. [Sam]

=item *

Fixed bug in HTML::Template burner when an element name had more than
one space in it. [Sam]

=item *

Fixed bug in database that prevented element names over 32 characters
from working properly. [Sam]

=item *

Fixed bug where trying to preview a story without a Preview
destination and PREVIEW_LOCAL off would result in a Mason error. [Sam]

=item *

Fixed bug in Bric::SOAP::Story->create() where data element order was
getting lost. Thanks to Mike Slattery for the spot. [Sam]

=item *

Fixed bug in HTML::Template burner where templates in non-root categories
could not be found. Thanks to Marlon Bermas for the spot. [Sam]

=item *

Fixed Bric::Util::FTP::FileHandle to create new revisions on PUT. [Sam]

=item *

Deleting a contributor will no longer break stories with which the contributor
is associated. Thanks to Rachel Murray for the spot. [David]

=item *

Invalid configuration directives in bricolage.conf will now be caught and keep
Bricolage from starting. [Sam]

=item *

The view button in the element profile now works correctly. Thanks to Joao Pedro
Goncalves for the spot. [David]

=item *

Changed all strftime instances of '%G' to '%Y', as this seems to be
more portable. [David]

=item *

Checking in a template from a template profile now performs a syntax
check of the template just as saving the template does. [Joao Pedro
Goncalves]

=item *

Notes attached to stories and media are now once again editable from
the desk and profile views if they're checked out to the current user,
and only viewable otherwise. Thanks to Tracey Largay for the
spot. [David]

=item *

Fixed a few poorly-named timezones in the time zone preference. More
still needs to be done here, actually. [David]

=item *

Implemented the chk_syntax() method in Bric::Util::Burner::Template.
[Sam]

=back

=head1 Version 1.2.3

Functionally equivalent to 1.2.2, but includes required files missing from the
1.2.2 distribution.

=head1 Version 1.2.2

=head2 New Features

=over 4

=item *

Added chk_syntax() methods to Bric::Util::Burner and its subclasses. This method
will takes a template asset object and make sure that it compiles.
Bric::Util::Burner::chk_syntax() delegates to the proper subclass.

=back

=head2 Bug Fixes

=over 4

=item *

Some misspellings were corrected in Bric::Admin. Thanks to Ask Bjoern Hansen for
the spot. [David]

=item *

Fixed broken "Return" buttons on related media and related story pages. [David]

=item *

Fixed bug where assets weren't activated when they were created and then checked
in without clicking the "Save" button. [David]

=item *

Fixed bug where a fixed story's slug was getting used in its URI. [David]

=item *

Fixed broken image autopopulation fields (compression, height, width, etc.)
[David]

=item *

Fixed broken support for audio and video files. These can be set up by the Media
Type menu in Element Types. Eventually these should arrange for some fields to
be auto-populated (e.g., bit rate, frame size, length, encoding, etc.). [David]

=item *

Fixed bug where Categories with the same directory name could not be created.
Thanks to Andrew Baio for the spot. [David]

=item *

Fixed a bug where a user couldn't look at her own event log if she didn't have
permission. Thank to Michael Alan Dorman for the spot. [David]

=item *

Fixed a bug where permissions set to access workflows and desks had no affect on
the display of workflows and desks. Thanks to Rachel Murray for the spot.
[David]

=item *

Fixed bug where attempting to create a destination with the same name as an
existing but deactivated destination triggered an SQL error. Thanks to Michael
Alan Dorman for the spot. [David]

=item *

Fixed bug where Workflows with spaces in their names would not create proper
submenus in the left navigation bar. Thanks to the WHO for the spot [David]

=item *

Fixed bug where the wrong story might be previewed when clicking the title of a
story in My Workspace or on a desk. [David]

=item *

Changing the category a media asset is in now correctly updates the underlying
category object and the URI without the media asset needing to be checked in.
[Matt Vella]

=item *

Eliminated "Template compile failed" errors for templates with <%init> sections.
[David]

=item *

Field elements now show up with their display names in the bulk edit select
lists, instead of with their names (which are really keys). [David]

=item *

Eliminated "Use of uninitialized value in bitwise or (|)" warnings when checking
permissions. Thanks to Sam Tregar for the spot. [David]

=item *

Custom fields in elements and contributor types now remember their "size"
setting. Thanks to Sam Tregar for the spot. [David]

=item *

The Element select list on the new Template profile no longer lists media
elements, since media assets don't use templates. [David]

=item *

Removed old XML::Writer stuff from Bric::Util::Burner, since I moved it to
Bric::Util::Burner::Mason a while ago and it was causing some problems. Thanks
to Michael Robinton for the spot. [David]

=item *

Fixed typo in Bric::Hacker spotted by Axel Beckert. [Sam]

=item *

The CREATE permission works properly now. Thanks to Rachel Murray for the spot.
[David]

=back

=head1 VERSION 1.2.1

=head2 New Features

=over 4

=item *

Created new method of configuring Bricolage in Apache. For mod_perl 1.26 and
earlier, a custom config file will be written to the bricolage temp directory
every time Bricolage is started or restarted. For mod_perl 1.27 and later, no
temp file will be written. [David]

=item *

Added support for Mozilla (and there was much rejoicing!). [David]

=item *

Changed password for the default "admin" user to "change me now!" [David]

=item *

The slug is stored in the database for both fixed and non-fixed stories. This is
in anticipation of adding the ability to use the slug for fixed story URIs later
on. Thanks to Darren Graves for the patch.

=item *

Added DISABLE_NAV_LAYER directive. It's off by default, but if you turn it on in
bricolage.conf, the side navigation layer will be rendered as plain HTML in
every page instead of as a separate layer. [David]

=item *

Documented PERL_LOADER directive in Bric::AdvTemplates. [David]

=back

=head2 Bug Fixes

=over 4

=item *

Turned off the PREVIEW_MASON configuration directive in bricolage.conf. It should
be off by default. [David]

=item *

Deleted Output Channels now properly don't show up in the Output Channel manager
again. Thanks to Sara for the spot! [David]

=item *

All previews now preview assets in the primary Output Channel only. Previously,
the previews were in the Output Channel whose name came first alphabetically.
Thanks to Sara Wood for catching this bug. [David]

=item *

Fixed bug where templates often couldn't be found by the Mason burner if the
output channel had a post_path. [David]

=item *

Fixed bug where templates often couldn't be found by the HTML::Template burner
if the output channel had a post_path. [Sam]

=item *

Fixed some problems with the sideNav menus under Netscape. [David]

=item *

Fixed broken "Preview" button in Read-only story profile and in related story
elements. [Matt Vella]

=item *

Updated debugging code to accommodate new syntax in Cache::Cache. Thanks to Sam
Tregar for the spot. [David]

=item *

Fixed problem with Element names containing non-alphanumeric characters. [Sam]

=item *

Checking out media assets from "Find Media" now redirects you to the media
profile if you've checked out one media asset, or My Workspace if you've checked
out more than one. This puts it in line with how "Find Stories" and "Find
Templates" work. Thanks to Sam for the report. [David]

=item *

Fixed bulk edit functionality for Media assets. Thanks to Sam for the spot.
[David]

=item *

In Bric::Biz::Asset::Business, the source get_meth key in my_meths() now works
properly. Also, get_all_keywords() now also returns the category keywords as
well as the story keywords. Thanks to Darren Graves for the patch.

=item *

Removed quotation marks from DEF_MEDIA_TYPE setting in bricolage.conf. Thanks to
Darren Graves for the spot. [David]

=item *

Sorting assets by ID in "Find X" and Workspace/Desk view now properly does a
numeric sort rather than an alphanumeric sort. Thanks to Sam Tregar for the
spot. [David]

=item *

Fixed an obscure bug where, for files uploaded as part of a Media file,
Bricolage attempted to create a path on its own file system using path
delimiters for another file system. Thanks to Mike Slattery for the spot.
[David]

=item *

Required content fields in stories and elements are now displayed in the order
specified in the Element profile. Thanks to Sam Tregar for the spot. [David]

=item *

All assets now start with the version number 0 until the first time they are
checked in. Also, they will show up on desks and in the Find views after the
first time they are saved. It was inconsistent before, and some items could not
be seen in the desk and Find views until they were checked in. Thanks to Sam for
spotting the inconsistency. [David]

=item *

The bric_clean_tmp script has been changed to avoid deleting the Bricolage
cache file.  [Sam]

=item *

Fixed typo that broke Bric::Dist::Client. [Mike Slattery]

=item *

Fixed multiple select custom fields for Elements and Contributors. Thanks to
Mike Slattery for the spot. [David]

=item *

Fixed ugly bug where deleting a "Media Type" Element would delete all the media
objects of that type. Thanks to Sam for the spot (though not for the bug!).
[David]

=item *

Fixed bric_pgimport so that it uses DBI to drop and create the database, rather
than relying on a hard-coded location for pgsql binaries. [David]

=item *

Fixed permission granting in bric_pgimport so that the Bricolage database use
has DELETE permissions on all objects in the Bricolage database. It looks like
this permission was ignored in PosgreSQL 7.1 and earlier, or problems would have
shown up a long time ago! [David]

=item *

Fixed a bug where the time a distribution job is scheduled was not properly
converted to UTC for storage in the database. Thanks to Mike Slattery for the
great code archaeology! [David]

=item *

Fixed the spelling of "contributor" in several spots. [Andrew Baio]

=item *

Fixed bug where changing a story's primary category left it with B<no> primary
category. [Matt Vella]

=back

=head1 VERSION 1.2.0

=head2 New Features

=over 4

=item *

Added Context-sensitive, online help. [Sam]

=item *

Added separate interface for editing templates (via FTP). [Sam]

=item *

Added the ability to use HTML::Template Templates. [Sam]

=item *

Added ability for differnt Output Channels to function as different component
roots for in Mason templates. This will allow for templates that can't be found
in the current Output Channel to be searched for in other Output Channels.
[David]

=item *

Added link to Event log to Find Story, Find Template, and Find Media screens.
[David]

=item *

Added true previewing for media assets. Now, when you click their URIs to
preview them, they will be distributed to the preview server(s) before
redirecting the user to them, rather than just serving them up from where they
live on the Bricolage file system. The latter can still be accessed under
"Download" in the Media Asset profile. This will continue to be the preferred
way to grab media files for editing and such, as it will not incur the overhead
of distributing the media file. [David]

=item *

Allow only one template with a given name for a given category, element, burner
and output channel. [Sam]

=item *

Added a Maintainer section to the About page. [David]

=item *

Updated About page to mimic the layout of the help pages. [David]

=back

=head2 Bug Fixes

=over 4

=item *

Fixed a bug with local previews where a preview page could show up instead of
the Bricolage UI. Thanks to Sara for the spot. [David]

=item *

Fixed a bug where Mason component calls failed in previews when the
PREVIEW_MASON directive was enabled. [David]

=item *

Changed default value for text area fields added via the form builder (i.e., in
Contributor Type and Element profiles) to 0. The values 0 and "" always make the
the new field unlimited in length. [David]

=item *

Fixed a couple of buttons to be proper case rather than upper case. [David]

=item *

Separated the filesystem destinations for assets burned for publication and for
assets burned for previewing. This will prevent someone previewing and stomping
all over a published version of an asset before the published version is
distributed. [David]

=item *

Removed hard-coding of the local preview directory in httpd.conf and
httpd-ssl.conf. Now using the values stored in PREVIEW_LOCAL, instead, to
determine the proper directory. [David]

=item *

Added the DEF_MEDIA_TYPE directive. Bricolage will use the value in this
directive to assign a Media Type to all file resources if Bricolage can't
figure it out from their file extensions. This fixes a bug where Bricolage would
choke if it couldn't figure out the MediaType itself. [David]

=back

=head1 VERSION 1.0.2

=head2 New Features

=over 4

=item *

Added "File Name" and "File Extension" properties to OutputChannels. These
properties will now be used to name files burned to the file system on
preview and publish. [David]

=item *

Added DEFAULT_FILENAME and DEFAULT_FILE_EXT configuration directives to set
default values on the "File Name" and "File Extension" Output Channel
properties. [David]

=item *

Changed Bric::Util::Burner->display_element() so that it doesn't paginate. All
paginated pages are now treated instead as regular elements. This is useful for
things like printer-friendly pages. Bric::Util::Burner->display_element()
continues to work as before. Use this method to output a separate file for each
paginated element. [David]

=item *

When errors occur while previewing stories, the leftNav is now turned off.
[David]

=item *

Browser buttons and menus are now disabled. [David]

=item *

Added ability to set permissions on assets based on the categories they're in.
[David]

=item *

Moved all session and session locking files into the "bricolage" subdirectory of
the local file system's tmp directory. You'll want to rm -rf /tmp/bricolage_*
upon upgrading. [David]

=item *

Moved the location of cache files to the "bricolage/cache" subdirectory of the
local file system's tmp directory. You'll want to rm -rf /tmp/FileCache upon
upgrading. Together with the above change, this means that all Bricolage
temporary files are stored in the "bricolage" subdirectory of the local tmp,
e.g., /tmp/bricolage. [David]

=item *

Added new program, bric_clean_tmp, that can be used in a cron job to delete
stale temporary files. [Sam]

=item *

Added an "About" page, linked from the logo graphic, that explains the name
"Bricolage" and offers the license and credits. [David]

=item *

Added PERL_LOADER configuration directive. Pass a line of Perl to this
directive, and on startup, it'll execute it in the same namespace as your
templates execute in. [David]

=item *

Added INCLUDE_XML_WRITER and XML_WRITER_ARGS configuration parameters. If
INCLUDE_XML_WRITER is turned on, then all templates will include a new global,
$writer, that is an XML::Writer object. This object is provided as a convenience
for creating XML in your templates. XML_WRITER_ARGS allows certain arguments to
be passed to the XML::Writer. [David]

=item *

Fixed bug where data fields deleted from Elements were deleting them from
existing stories, too. [David]

=item *

Fixed bug where stories with related media associated with them were displaying
the story as an Element rather than as a story after editing the related media.
[David]

=item *

Removed all file system location dependencies for the operation of Bricolage.
Bricolage will still assume that everything's in /usr/local/bricolage, but any
location is fine as long as the BRICOLAGE_ROOT environment variable is set to
the proper location. [David]

=item *

Added code to force all preview pages to be re-requested from the server every
time they're viewed. This prevents the browser from loading older versions from
its cache, and allows users to always see the most recently-burned output of a
story. [David]

=item *

Removed debugging information from URLs for when debugging is turned off --
which should be always in production code (e.g., releases). [David]

=item *

Elements are now displayed with their display names rather than their attribute
names. Thanks to Sam Tregar for the spot. [David]

=item *

Fixed bug where fields (attributes) added to an Element with the name of an
existing but deactivated field triggered an error. Thanks to Sam for the
heads-up. [David]

=item *

Fixed a bug where data fields sometimes were not properly retrieved from the
database in Bric::Biz::AssetType. [David]

=item *

Fixed a bug where clicking "Save and Stay" in the Element profile wouldn't
delete attributes (fields) marked as such, or even delete the Element itself, if
the "Delete this profile" checkbox was checked.

=item *

Fixed a bug where, for Story and Media assets, editors were given Edit access to
notes, even when they didn't have the asset checked out. [David]

=item *

Changed the misleading and inaccurate "Two blank lines" label in the Bulk Edit
interface to the more accurate "One blank line". Thanks to Sam Tregar for the
heads-up.

=back

=head1 VERSION 1.0.1

=over 4

=item *

Initial public release.

=back

=head1 AUTHOR

David Wheeler <david@wheeler.net>

=head1 SEE ALSO

L<Bric|Bric>

=cut
